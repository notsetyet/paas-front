{"remainingRequest":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zyj\\paas-front\\code\\src\\views\\ServiceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zyj\\paas-front\\code\\src\\views\\ServiceList.vue","mtime":1600916394270},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600762068352},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1600762068012},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600762068352},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\vue-loader\\lib\\index.js","mtime":1600762094690}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBtb3VudGVkKCkgew0KICAgIGF4aW9zDQogICAgICAuZ2V0KCJodHRwOi8vMTAuMTI4LjI3LjY5OjgwODAvY29udGFpbmVycy8iICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVpZCIpKQ0KICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIHRoaXMuYmFjayA9IHJlcy5kYXRhOw0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmFjay5sZW5ndGg7IGkrKykgew0KICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCB0aGlzLmJhY2tbaV0uSW1hZ2UpOw0KICAgICAgICAgIGxldCB0bXBEYXRhID0ge307DQogICAgICAgICAgdG1wRGF0YS5uYW1lID0gdGhpcy5iYWNrW2ldLk5hbWVzWzBdOw0KICAgICAgICAgIHRtcERhdGEubWlycm9yID0gdGhpcy5iYWNrW2ldLkltYWdlOw0KICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdhYWEnICsgIiAiICsgdGhpcy5iYWNrW2ldLlBvcnRzLmxlbmd0aCk7DQogICAgICAgICAgdG1wRGF0YS5wb3J0ID0gW107DQogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJhY2tbaV0uUG9ydHMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgIHRtcERhdGEucG9ydFtqXSA9DQogICAgICAgICAgICAgICJ7MTAuMjUxLjI1My4xODk6IiArDQogICAgICAgICAgICAgIHRoaXMuYmFja1tpXS5Qb3J0c1tqXS5QdWJsaWNQb3J0ICsNCiAgICAgICAgICAgICAgIi0+IiArDQogICAgICAgICAgICAgIHRoaXMuYmFja1tpXS5Qb3J0c1tqXS5Qcml2YXRlUG9ydCArDQogICAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICAgIHRoaXMuYmFja1tpXS5Qb3J0c1tqXS5UeXBlICsNCiAgICAgICAgICAgICAgIn0iOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0bXBEYXRhLmlkID0gdGhpcy5iYWNrW2ldLklkOw0KICAgICAgICAgIHRtcERhdGEuc3RhdHVzID0gdGhpcy5iYWNrW2ldLlN0YXRlOw0KICAgICAgICAgIHRoaXMuZGF0YS5wdXNoKHRtcERhdGEpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaW5kZXRlcm1pbmF0ZTogdHJ1ZSwNCiAgICAgIGNoZWNrQWxsOiBmYWxzZSwNCiAgICAgIGNoZWNrQWxsR3JvdXA6IFsi6aaZ6JWJIiwgIuilv+eTnCJdLA0KICAgICAgY29sdW1uczogWw0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICJOYW1lIiwNCiAgICAgICAgICBrZXk6ICJuYW1lIiwNCiAgICAgICAgICB3aWR0aDogMjAwLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICJJbWFnZSIsDQogICAgICAgICAgd2lkdGg6IDIwMCwNCiAgICAgICAgICBrZXk6ICJtaXJyb3IiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICJQb3J0IiwNCiAgICAgICAgICB3aWR0aDogMjAwLA0KICAgICAgICAgIGtleTogInBvcnQiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICJTdGF0dXMiLA0KICAgICAgICAgIHdpZHRoOiAyMDAsDQogICAgICAgICAga2V5OiAic3RhdHVzIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAiQWN0aW9uIiwNCiAgICAgICAgICBzbG90OiAiYWN0aW9uIiwNCiAgICAgICAgICB3aWR0aDogMjAwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBiYWNrOiBbXSwNCiAgICAgIGRhdGE6IFtdLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0dXJub24ocil7DQogICAgICBjb25zb2xlLmxvZyhyLmlkKTsNCiAgICAgIGF4aW9zDQogICAgICAuZ2V0KCJodHRwOi8vMTAuMTI4LjI3LjY5OjgwODAvY29udGFpbmVycy9zdGFydC8iICsgci5pZCkNCiAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLlvIDlkK/miJDlip8iKTsNCiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICB9KQ0KICAgIH0sDQogICAgdHVybm9mZihyLGkpew0KICAgICAgY29uc29sZS5sb2coaSk7DQogICAgICBheGlvcw0KICAgICAgLmdldCgiaHR0cDovLzEwLjEyOC4yNy42OTo4MDgwL2NvbnRhaW5lcnMvc3RvcC8iICsgci5pZCkNCiAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLlhbPpl63miJDlip8iKTsNCiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICB9KQ0KICAgIH0sDQogICAgcmVtb3ZlKHIpew0KICAgICAgY29uc29sZS5sb2coci5pZCk7DQogICAgICBheGlvcw0KICAgICAgLmdldCgiaHR0cDovLzEwLjEyOC4yNy42OTo4MDgwL2NvbnRhaW5lcnMvcmVtb3ZlLyIgKyByLmlkKQ0KICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOw0KICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICB0b2NyZWF0ZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9jcmVhdGUtY29udGFpbmVyIiB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUNoZWNrQWxsKCkgew0KICAgICAgaWYgKHRoaXMuaW5kZXRlcm1pbmF0ZSkgew0KICAgICAgICB0aGlzLmNoZWNrQWxsID0gZmFsc2U7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmNoZWNrQWxsID0gIXRoaXMuY2hlY2tBbGw7DQogICAgICB9DQogICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTsNCg0KICAgICAgaWYgKHRoaXMuY2hlY2tBbGwpIHsNCiAgICAgICAgdGhpcy5jaGVja0FsbEdyb3VwID0gWyLpppnolYkiLCAi6Iu55p6cIiwgIuilv+eTnCJdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jaGVja0FsbEdyb3VwID0gW107DQogICAgICB9DQogICAgfSwNCiAgICBjaGVja0FsbEdyb3VwQ2hhbmdlKGRhdGEpIHsNCiAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMykgew0KICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5jaGVja0FsbCA9IHRydWU7DQogICAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSB0cnVlOw0KICAgICAgICB0aGlzLmNoZWNrQWxsID0gZmFsc2U7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5jaGVja0FsbCA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["ServiceList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ServiceList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"servicelist\">\r\n    <div class=\"layout-breadcrumb\">\r\n      <Breadcrumb style=\"float: left\">\r\n        <BreadcrumbItem to=\"/\">首页</BreadcrumbItem>\r\n        <BreadcrumbItem to=\"/\">服务页</BreadcrumbItem>\r\n        <BreadcrumbItem>服务列表</BreadcrumbItem>\r\n      </Breadcrumb>\r\n      <h2 style=\"font-weight: bold\">服务列表</h2>\r\n    </div>\r\n    <div class=\"layout-content\">\r\n      <!--<Card style=\"height: 200px\">\r\n        <i-col span=\"1\" offset=\"1\">\r\n          <h5>CPU</h5>\r\n          <br />\r\n          <h5>已使用</h5>\r\n          <p>1000</p>\r\n          <br />\r\n          <h5>总配额</h5>\r\n          <p>10000</p>\r\n        </i-col>\r\n        <i-col span=\"2\" offset=\"4\">\r\n          <i-circle :percent=\"80\" stroke-color=\"#5cb85c\">\r\n            <span class=\"demo-circle-inner\">80%</span>\r\n          </i-circle>\r\n        </i-col>\r\n        <i-col span=\"1\" offset=\"1\">\r\n          <h5>内存(MB)</h5>\r\n          <br />\r\n          <h5>已使用</h5>\r\n          <p>1000</p>\r\n          <br />\r\n          <h5>总配额</h5>\r\n          <p>10000</p>\r\n        </i-col>\r\n        <i-col span=\"2\" offset=\"4\">\r\n          <i-circle :percent=\"80\" stroke-color=\"#5cb85c\">\r\n            <span class=\"demo-circle-inner\">80%</span>\r\n          </i-circle>\r\n        </i-col>\r\n        <i-col span=\"1\" offset=\"1\">\r\n          <h5>存储(MB)</h5>\r\n          <br />\r\n          <h5>已使用</h5>\r\n          <p>1000</p>\r\n          <br />\r\n          <h5>总配额</h5>\r\n          <p>10000</p>\r\n        </i-col>\r\n        <i-col span=\"2\" offset=\"4\">\r\n          <i-circle :percent=\"80\" stroke-color=\"#5cb85c\">\r\n            <span class=\"demo-circle-inner\">80%</span>\r\n          </i-circle>\r\n        </i-col>\r\n      </Card>-->\r\n\r\n      <Card style=\"margin-top: 30px; \">\r\n        <i-button\r\n          type=\"primary\"\r\n          icon=\"plus\"\r\n          style=\"float: left\"\r\n          @click=\"tocreate()\"\r\n          ><span>新建容器</span></i-button\r\n        ><br /><br />\r\n        <Table border :columns=\"columns\" :data=\"data\">\r\n          <template slot-scope=\"{ row }\" slot=\"name\">\r\n            <strong>{{ row.name }}</strong>\r\n          </template>\r\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n            <Button\r\n              v-if=\"row.status=='running'\"\r\n              type=\"error\"\r\n              size=\"small\"\r\n              style=\"margin-right: 5px\"\r\n              @click=\"turnoff(row,index)\"\r\n              >关闭</Button\r\n            >\r\n            <Button\r\n              v-if=\"row.status!='running'\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              style=\"margin-right: 5px\"\r\n              @click=\"turnon(row)\"\r\n              >开启</Button\r\n            >\r\n            <Button type=\"error\" size=\"small\" @click=\"remove(row)\"\r\n              >删除</Button\r\n            >\r\n          </template>\r\n        </Table>\r\n      </Card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  mounted() {\r\n    axios\r\n      .get(\"http://10.128.27.69:8080/containers/\" + localStorage.getItem(\"uid\"))\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.back = res.data;\r\n        for (let i = 0; i < this.back.length; i++) {\r\n        //   console.log( this.back[i].Image);\r\n          let tmpData = {};\r\n          tmpData.name = this.back[i].Names[0];\r\n          tmpData.mirror = this.back[i].Image;\r\n        //   console.log('aaa' + \" \" + this.back[i].Ports.length);\r\n          tmpData.port = [];\r\n          for (let j = 0; j < this.back[i].Ports.length; j++) {\r\n            tmpData.port[j] =\r\n              \"{10.251.253.189:\" +\r\n              this.back[i].Ports[j].PublicPort +\r\n              \"->\" +\r\n              this.back[i].Ports[j].PrivatePort +\r\n              \"/\" +\r\n              this.back[i].Ports[j].Type +\r\n              \"}\";\r\n          }\r\n          tmpData.id = this.back[i].Id;\r\n          tmpData.status = this.back[i].State;\r\n          this.data.push(tmpData);\r\n        }\r\n      });\r\n  },\r\n  data() {\r\n    return {\r\n      indeterminate: true,\r\n      checkAll: false,\r\n      checkAllGroup: [\"香蕉\", \"西瓜\"],\r\n      columns: [\r\n        {\r\n          title: \"Name\",\r\n          key: \"name\",\r\n          width: 200,\r\n        },\r\n        {\r\n          title: \"Image\",\r\n          width: 200,\r\n          key: \"mirror\",\r\n        },\r\n        {\r\n          title: \"Port\",\r\n          width: 200,\r\n          key: \"port\",\r\n        },\r\n        {\r\n          title: \"Status\",\r\n          width: 200,\r\n          key: \"status\",\r\n        },\r\n        {\r\n          title: \"Action\",\r\n          slot: \"action\",\r\n          width: 200,\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      back: [],\r\n      data: [],\r\n    };\r\n  },\r\n  methods: {\r\n    turnon(r){\r\n      console.log(r.id);\r\n      axios\r\n      .get(\"http://10.128.27.69:8080/containers/start/\" + r.id)\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.$Message.success(\"开启成功\");\r\n        location.reload();\r\n      })\r\n    },\r\n    turnoff(r,i){\r\n      console.log(i);\r\n      axios\r\n      .get(\"http://10.128.27.69:8080/containers/stop/\" + r.id)\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.$Message.success(\"关闭成功\");\r\n        location.reload();\r\n      })\r\n    },\r\n    remove(r){\r\n      console.log(r.id);\r\n      axios\r\n      .get(\"http://10.128.27.69:8080/containers/remove/\" + r.id)\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.$Message.success(\"删除成功\");\r\n        location.reload();\r\n      })\r\n    },\r\n    tocreate() {\r\n      this.$router.push({ path: \"/create-container\" });\r\n    },\r\n    handleCheckAll() {\r\n      if (this.indeterminate) {\r\n        this.checkAll = false;\r\n      } else {\r\n        this.checkAll = !this.checkAll;\r\n      }\r\n      this.indeterminate = false;\r\n\r\n      if (this.checkAll) {\r\n        this.checkAllGroup = [\"香蕉\", \"苹果\", \"西瓜\"];\r\n      } else {\r\n        this.checkAllGroup = [];\r\n      }\r\n    },\r\n    checkAllGroupChange(data) {\r\n      if (data.length === 3) {\r\n        this.indeterminate = false;\r\n        this.checkAll = true;\r\n      } else if (data.length > 0) {\r\n        this.indeterminate = true;\r\n        this.checkAll = false;\r\n      } else {\r\n        this.indeterminate = false;\r\n        this.checkAll = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}