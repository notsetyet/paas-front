{"remainingRequest":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zyj\\paas-front\\code\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\zyj\\paas-front\\code\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zyj\\paas-front\\code\\src\\views\\ManageContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zyj\\paas-front\\code\\src\\views\\ManageContainer.vue","mtime":1600952537882},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600762068352},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\babel-loader\\lib\\index.js","mtime":1600762068012},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600762068352},{"path":"C:\\Users\\zyj\\paas-front\\code\\node_modules\\vue-loader\\lib\\index.js","mtime":1600762094690}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cDovLzEwLjI1MS4yNTMuMTg4OjgwODAvY29udGFpbmVycy9hbGwiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICBfdGhpcy5iYWNrID0gcmVzLmRhdGE7CgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZyggdGhpcy5iYWNrW2ldLkltYWdlKTsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly8xMC4yNTEuMjUzLjE4ODo4MDgwL3VzZXIvZ2V0VXNlcm5hbWUvIiArIF90aGlzLmJhY2tbaV0uSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIHRtcERhdGEgPSB7fTsKICAgICAgICAgIHRtcERhdGEub3duID0gcmVzLmRhdGE7CiAgICAgICAgICB0bXBEYXRhLm5hbWUgPSBfdGhpcy5iYWNrW2ldLk5hbWVzWzBdOwogICAgICAgICAgdG1wRGF0YS5taXJyb3IgPSBfdGhpcy5iYWNrW2ldLkltYWdlOyAvLyAgIGNvbnNvbGUubG9nKCdhYWEnICsgIiAiICsgdGhpcy5iYWNrW2ldLlBvcnRzLmxlbmd0aCk7CgogICAgICAgICAgdG1wRGF0YS5wb3J0ID0gW107CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfdGhpcy5iYWNrW2ldLlBvcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHRtcERhdGEucG9ydFtqXSA9ICJ7MTAuMjUxLjI1My4xODk6IiArIF90aGlzLmJhY2tbaV0uUG9ydHNbal0uUHVibGljUG9ydCArICItPiIgKyBfdGhpcy5iYWNrW2ldLlBvcnRzW2pdLlByaXZhdGVQb3J0ICsgIi8iICsgX3RoaXMuYmFja1tpXS5Qb3J0c1tqXS5UeXBlICsgIn0iOwogICAgICAgICAgfQoKICAgICAgICAgIHRtcERhdGEuaWQgPSBfdGhpcy5iYWNrW2ldLklkOwogICAgICAgICAgdG1wRGF0YS5zdGF0dXMgPSBfdGhpcy5iYWNrW2ldLlN0YXRlOwoKICAgICAgICAgIF90aGlzLmRhdGEucHVzaCh0bXBEYXRhKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuYmFjay5sZW5ndGg7IGkrKykgewogICAgICAgIF9sb29wKGkpOwogICAgICB9CiAgICB9KTsKICB9LAogIG5hbWU6ICJNYW5hZ2VDb250YWluZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25MaXN0OiBbe31dLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIHRpdGxlOiAiTmFtZSIsCiAgICAgICAga2V5OiAibmFtZSIsCiAgICAgICAgd2lkdGg6IDE2MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJPd25lciIsCiAgICAgICAga2V5OiAib3duIiwKICAgICAgICB3aWR0aDogMTYwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIkltYWdlIiwKICAgICAgICB3aWR0aDogMTYwLAogICAgICAgIGtleTogIm1pcnJvciIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAiUG9ydCIsCiAgICAgICAgd2lkdGg6IDE2MCwKICAgICAgICBrZXk6ICJwb3J0IgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJTdGF0dXMiLAogICAgICAgIHdpZHRoOiAxNjAsCiAgICAgICAga2V5OiAic3RhdHVzIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJBY3Rpb24iLAogICAgICAgIHNsb3Q6ICJhY3Rpb24iLAogICAgICAgIHdpZHRoOiAyMDAsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiCiAgICAgIH1dLAogICAgICBkYXRhOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHR1cm5vbjogZnVuY3Rpb24gdHVybm9uKHIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhyLmlkKTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vMTAuMjUxLjI1My4xODg6ODA4MC9jb250YWluZXJzL3N0YXJ0LyIgKyByLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBfdGhpczIuJE1lc3NhZ2Uuc3VjY2Vzcygi5byA5ZCv5oiQ5YqfIik7CgogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICB0dXJub2ZmOiBmdW5jdGlvbiB0dXJub2ZmKHIsIGkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhyLmlkKTsKICAgICAgY29uc29sZS5sb2coaSk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovLzEwLjI1MS4yNTMuMTg4OjgwODAvY29udGFpbmVycy9zdG9wLyIgKyByLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBfdGhpczMuJE1lc3NhZ2Uuc3VjY2Vzcygi5YWz6Zet5oiQ5YqfIik7CgogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShyKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coImFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEiICsgci5pZCk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovLzEwLjI1MS4yNTMuMTg4OjgwODAvY29udGFpbmVycy9yZW1vdmUvIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgIi8iICsgci5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgX3RoaXM0LiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOyAvL2xvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ManageContainer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"manage-container\">\r\n    <div class=\"layout-breadcrumb\">\r\n      <Breadcrumb>\r\n        <BreadcrumbItem to=\"/\">首页</BreadcrumbItem>\r\n        <BreadcrumbItem to=\"/\">管理页</BreadcrumbItem>\r\n        <BreadcrumbItem>管理容器</BreadcrumbItem>\r\n      </Breadcrumb>\r\n      <h2 style=\"font-weight: bold\">管理容器</h2>\r\n    </div>\r\n    <div class=\"layout-content\">\r\n      <Card>\r\n        <Table border :columns=\"columns\" :data=\"data\">\r\n          <template slot-scope=\"{ row }\" slot=\"name\">\r\n            <strong>{{ row.name }}</strong>\r\n          </template>\r\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n            <Button\r\n              v-if=\"row.status == 'running'\"\r\n              type=\"error\"\r\n              size=\"small\"\r\n              style=\"margin-right: 5px\"\r\n              @click=\"turnoff(row, index)\"\r\n              >关闭</Button\r\n            >\r\n            <Button\r\n              v-if=\"row.status != 'running'\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              style=\"margin-right: 5px\"\r\n              @click=\"turnon(row)\"\r\n              >开启</Button\r\n            >\r\n            <Button type=\"error\" size=\"small\" @click=\"remove(row)\">删除</Button>\r\n          </template>\r\n        </Table>\r\n      </Card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  mounted() {\r\n    axios.get(\"http://10.251.253.188:8080/containers/all\").then((res) => {\r\n      console.log(res.data);\r\n      this.back = res.data;\r\n      for (let i = 0; i < this.back.length; i++) {\r\n        //   console.log( this.back[i].Image);\r\n\r\n        axios\r\n          .get(\"http://10.251.253.188:8080/user/getUsername/\" + this.back[i].Id)\r\n          .then((res) => {\r\n            let tmpData = {};\r\n            tmpData.own = res.data;\r\n            tmpData.name = this.back[i].Names[0];\r\n            tmpData.mirror = this.back[i].Image;\r\n            //   console.log('aaa' + \" \" + this.back[i].Ports.length);\r\n            tmpData.port = [];\r\n            for (let j = 0; j < this.back[i].Ports.length; j++) {\r\n              tmpData.port[j] =\r\n                \"{10.251.253.189:\" +\r\n                this.back[i].Ports[j].PublicPort +\r\n                \"->\" +\r\n                this.back[i].Ports[j].PrivatePort +\r\n                \"/\" +\r\n                this.back[i].Ports[j].Type +\r\n                \"}\";\r\n            }\r\n            tmpData.id = this.back[i].Id;\r\n            tmpData.status = this.back[i].State;\r\n            this.data.push(tmpData);\r\n          });\r\n      }\r\n    });\r\n  },\r\n  name: \"ManageContainer\",\r\n  data() {\r\n    return {\r\n      conList: [{}],\r\n      columns: [\r\n        {\r\n          title: \"Name\",\r\n          key: \"name\",\r\n          width: 160,\r\n        },\r\n        {\r\n          title: \"Owner\",\r\n          key: \"own\",\r\n          width: 160,\r\n        },\r\n        {\r\n          title: \"Image\",\r\n          width: 160,\r\n          key: \"mirror\",\r\n        },\r\n        {\r\n          title: \"Port\",\r\n          width: 160,\r\n          key: \"port\",\r\n        },\r\n        {\r\n          title: \"Status\",\r\n          width: 160,\r\n          key: \"status\",\r\n        },\r\n        {\r\n          title: \"Action\",\r\n          slot: \"action\",\r\n          width: 200,\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      data: [],\r\n    };\r\n  },\r\n  methods: {\r\n    turnon(r) {\r\n      console.log(r.id);\r\n      axios\r\n        .get(\"http://10.251.253.188:8080/containers/start/\" + r.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.$Message.success(\"开启成功\");\r\n          location.reload();\r\n        });\r\n    },\r\n    turnoff(r, i) {\r\n      console.log(r.id);\r\n      console.log(i);\r\n      axios\r\n        .get(\"http://10.251.253.188:8080/containers/stop/\" + r.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.$Message.success(\"关闭成功\");\r\n          location.reload();\r\n        });\r\n    },\r\n    remove(r) {\r\n      console.log(\"aaaaaaaaaaaaaaaaaaaaaaaaa\"+r.id);\r\n      axios\r\n        .get(\"http://10.251.253.188:8080/containers/remove/\"+(new Date().getTime()) +\"/\"+ r.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.$Message.success(\"删除成功\");\r\n          //location.reload();\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"sourceRoot":"src/views"}]}